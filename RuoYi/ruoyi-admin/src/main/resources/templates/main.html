<!DOCTYPE html>
<html  lang="zh" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--360浏览器优先以webkit内核解析-->
    <title>项目介绍</title>
    <link rel="shortcut icon" href="favicon.ico">
    <link href="../static/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" rel="stylesheet"/>
    <link href="../static/css/font-awesome.min.css" th:href="@{/css/font-awesome.min.css}" rel="stylesheet"/>
    <link href="../static/css/main/animate.min.css" th:href="@{/css/main/animate.min.css}" rel="stylesheet"/>
    <link href="../static/css/main/style.min862f.css" th:href="@{/css/main/style.min862f.css}" rel="stylesheet"/>
</head>

<body class="gray-bg">
	<!--火灾监测统计	-->
	<div class="row  border-bottom white-bg dashboard-header" >
		<div class="title" style="font-size: 30px" align="center">火灾监测统计</div>
		<div style="padding-left: 350px; padding-top: 30px; font-size: 15px">
			<div class="col-xs-2 col-sm-2 count">
				<p>系统总数</p>
				<div class="b-font">
					<div id="sysCount"></div>
					<span>个</span></div>
			</div>
			<div class="col-xs-2 col-sm-2 count">
				<p>定级总数</p>
				<div class="b-font">
					<div id="gradeCount"></div>
					<span>个</span></div>
			</div>
			<div class="col-xs-2 col-sm-2 count">
				<p>备案总数</p>
				<div class="b-font">
					<div id="recordCount"></div>
					<span>个</span></div>
			</div>
			<div class="col-xs-2 col-sm-2 count">
				<p>测评总数</p>
				<div class="b-font">
					<div id="testCount"></div>
					<span>个</span></div>
			</div>
			<div class="col-xs-2 col-sm-2 count" style="border-right: none">
				<p>整改总数</p>
				<div class="b-font">
					<div id="changeCount"></div>
					<span>个</span></div>
			</div>
			<div class="col-xs-1 col-sm-1 "></div>
		</div>

	</div>
	<!--统计图 -->
	<div class="row">
		<div class="col-sm-6">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h5>气温折线图</h5>
					<div class="ibox-tools">
						<a class="collapse-link">
							<i class="fa fa-chevron-up"></i>
						</a>
						<a class="dropdown-toggle" data-toggle="dropdown" href="graph_flot.html#">
							<i class="fa fa-wrench"></i>
						</a>
						<ul class="dropdown-menu dropdown-user">
							<li><a href="graph_flot.html#">选项1</a>
							</li>
							<li><a href="graph_flot.html#">选项2</a>
							</li>
						</ul>
						<a class="close-link">
							<i class="fa fa-times"></i>
						</a>
					</div>
				</div>
				<div class="ibox-content">
					<div class="echarts" id="echarts-line-chart"></div>
				</div>
			</div>
		</div>
		<div class="col-sm-6">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h5>自定义饼状图尺寸</h5>
					<div class="ibox-tools">
						<a class="collapse-link">
							<i class="fa fa-chevron-up"></i>
						</a>
						<a class="dropdown-toggle" data-toggle="dropdown" href="graph_sparkline.html#">
							<i class="fa fa-wrench"></i>
						</a>
						<ul class="dropdown-menu dropdown-user">
							<li><a href="graph_sparkline.html#">选项1</a>
							</li>
							<li><a href="graph_sparkline.html#">选项2</a>
							</li>
						</ul>
						<a class="close-link">
							<i class="fa fa-times"></i>
						</a>
					</div>
				</div>
				<div class="ibox-content text-center h-200">
					<span id="sparkline7"></span>
				</div>
			</div>
		</div>
	</div>
	<!--表格测试-->
	<div class="wrapper wrapper-content">
		<div class="row">
			<div class="container-div">
				<div class="col-sm-4">
					<div class="ibox-title" style="background-color: #ff5600">
						<h5>每日火险预警</h5>
						<span class="pull-right" style="color: #5acde2"><a href="/alarm/daily">更多</a></span>
					</div>
					<div class="col-sm-12 select-table table-striped white-bg">
							<table id="bootstrap-table"></table>
					</div>
				</div>
				<div class="col-sm-4">
					<div class="ibox-title" style="background-color: #ffe500">
						<h5>高风险天气预警</h5>
						<span class="pull-right" style="color: #5acde2"><a href="/weather/risk">更多</a></span>
					</div>
					<div class="col-sm-12 select-table table-striped white-bg">
						<table id="bootstrap-table1"></table>
					</div>
				</div>
				<div class="col-sm-4">
					<div class="ibox-title" style="background-color: #00baef">
						<h5>高火险预警</h5>
						<span class="pull-right" style="color: #5acde2"><a href="/fire/risk">更多</a></span>
					</div>
					<div class="col-sm-12 select-table table-striped white-bg">
						<table id="bootstrap-table2"></table>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!--缩略信息 -->
	<div class="wrapper wrapper-content">
		<div class="row">
			<div class="container-div">
				<div class="col-sm-4">
					<div class="ibox-title" style="background-color: #ff5600">
						<h5>防火信息</h5>
						<span class="pull-right" style="color: #5acde2"><a href="/fire/proof">更多</a></span>
					</div>
					<div class="col-sm-12 select-table table-striped white-bg">
						<table id="bootstrap-table3"></table>
					</div>
				</div>
				<div class="col-sm-4">
					<p id="pay-qrcode">
						<a href="javascript:;"><img th:src="@{/img/test.jpg}" width="100%">
						</a>
					</p>
				</div>
				<div class="col-sm-4">
					<div class="ibox-title" style="background-color: #00baef">
						<h5>经验交流</h5>
						<span class="pull-right" style="color: #5acde2"><a href="/fire/communication">更多</a></span>
					</div>
					<div class="col-sm-12 select-table table-striped white-bg">
						<table id="bootstrap-table4"></table>
					</div>
				</div>
			</div>
		</div>
	</div>

    <script th:src="@{/js/jquery.min.js}"></script>
    <script th:src="@{/js/bootstrap.min.js}"></script>
    <script th:src="@{/ajax/libs/layer/layer.min.js}"></script>
	<div th:include="include :: footer"></div>
	<th:block th:include="include :: echarts-js" />
	<th:block th:include="include :: sparkline-js" />

	<script th:inline="javascript">
		var prefix = ctx + "alarm/daily";
		$(function() {
			var options = {
				id: "bootstrap-table",
				url: prefix + "/list",
				showFooter: false,
				showSearch: false,
				showRefresh: false,
				showToggle: false,
				showColumns: false,
				columns: [{
					checkbox: false
				},
					{
						field : 'infoId',
						title : '序号'
					},
					{
						field : 'titleName',
						title : '预警标题'
					},
					{
						field : 'level',
						title : '预警等级'
					},
					{
						field : 'alarmTime',
						title : '预警时间'
					},
					]
			};
			$.table.init(options);
		});

		var prefix1 = ctx + "weather/risk";
		$(function() {
			var options = {
				id: "bootstrap-table1",
				url: prefix1 + "/list",
				showFooter: false,
				showSearch: false,
				showRefresh: false,
				showToggle: false,
				showColumns: false,
				columns: [{
					checkbox: false
				},
					{
						field : 'infoId',
						title : '序号'
					},
					{
						field : 'titleName',
						title : '预警标题'
					},
					{
						field : 'level',
						title : '天气等级'
					},
					{
						field : 'alarmTime',
						title : '预警时间'
					},
				]
			};
			$.table.init(options);
		});

		var prefix2 = ctx + "fire/risk";
		$(function() {
			var options = {
				id: "bootstrap-table2",
				url: prefix2 + "/list",
				showFooter: false,
				showSearch: false,
				showRefresh: false,
				showToggle: false,
				showColumns: false,
				columns: [{
					checkbox: false
				},
					{
						field : 'infoId',
						title : '序号'
					},
					{
						field : 'titleName',
						title : '预警标题'
					},
					{
						field : 'level',
						title : '火险等级'
					},
					{
						field : 'alarmTime',
						title : '预警时间'
					},
				]
			};
			$.table.init(options);
		});

		var prefix3 = ctx + "fire/proof";
		$(function() {
			var options = {
				id: "bootstrap-table3",
				url: prefix3 + "/list",
				showFooter: false,
				showSearch: false,
				showRefresh: false,
				showToggle: false,
				showColumns: false,
				columns: [{
					checkbox: false
				},
					{
						field : 'infoId',
						title : '序号'
					},
					{
						field : 'titleName',
						title : '标题'
					},
					{
						field : 'createUserId',
						title : '作者'
					},
					{
						field : 'createTime',
						title : '创建时间'
					},
				]
			};
			$.table.init(options);
		});

		var prefix4 = ctx + "fire/communication";
		$(function() {
			var options = {
				id: "bootstrap-table4",
				url: prefix4 + "/list",
				showFooter: false,
				showSearch: false,
				showRefresh: false,
				showToggle: false,
				showColumns: false,
				columns: [{
					checkbox: false
				},
					{
						field : 'infoId',
						title : '序号'
					},
					{
						field : 'titleName',
						title : '标题'
					},
					{
						field : 'createUserId',
						title : '作者'
					},
					{
						field : 'createTime',
						title : '创建时间'
					},
				]
			};
			$.table.init(options);
		});
	</script>
	<script type="text/javascript">
	    $('#pay-qrcode').click(function(){
	        var html=$(this).html();
	        parent.layer.open({
	            title: false,
	            type: 1,
	            closeBtn:false,
	            shadeClose:true,
	            area: ['600px', 'auto'],
	            content: html
	        });
	    });

		$(function () {
			var lineChart = echarts.init(document.getElementById("echarts-line-chart"));
			var lineoption = {
				title: {
					text: '未来一周气温变化'
				},
				tooltip: {
					trigger: 'axis'
				},
				legend: {
					data: ['最高气温', '最低气温']
				},
				grid: {
					x: 40,
					x2: 40,
					y2: 24
				},
				calculable: true,
				xAxis: [
					{
						type: 'category',
						boundaryGap: false,
						data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日']
					}
				],
				yAxis: [
					{
						type: 'value',
						axisLabel: {
							formatter: '{value} °C'
						}
					}
				],
				series: [
					{
						name: '最高气温',
						type: 'line',
						data: [11, 11, 15, 13, 12, 13, 10],
						markPoint: {
							data: [
								{type: 'max', name: '最大值'},
								{type: 'min', name: '最小值'}
							]
						},
						markLine: {
							data: [
								{type: 'average', name: '平均值'}
							]
						}
					},
					{
						name: '最低气温',
						type: 'line',
						data: [1, -2, 2, 5, 3, 2, 0],
						markPoint: {
							data: [
								{name: '周最低', value: -2, xAxis: 1, yAxis: -1.5}
							]
						},
						markLine: {
							data: [
								{type: 'average', name: '平均值'}
							]
						}
					}
				]
			};
			lineChart.setOption(lineoption);
			$(window).resize(lineChart.resize);

			$("#sparkline7").sparkline([52, 12, 44], {
				type: 'pie',
				height: '240px',
				sliceColors: ['#1ab394', '#b3b3b3', '#e4f0fb']});
		});
    </script>
</body>
</html>
